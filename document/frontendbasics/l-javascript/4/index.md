# 4. 常用正则

#### 1.身份证号规则

身份证号码规则：前1、2位数字表示：所在省份的代码；第3、4位数字表示：所在城市的代码；第5、6位数字表示：所在区县的代码；第7-14位数字表示：出生年、月、日；第15、16位数字表示：所在地的派出所的代码；第17位数字表示性别：奇数表示男性，偶数表示女性；第18位数字是校检码：也有的说是个人信息码，一般是随计算机的随机产生，用来检验身份证的正确性。校检码可以是0-9的数字，有时也用_表示。

身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符

```
/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/
```

#### 2.匹配中文字符的正则表达式

> /^[\u4e00-\u9fa5]{0,}$/

```js
input:
/[\u4e00-\u9fa5]/.test('sd阿斯顿发f')
output: 
true
```

#### 3.匹配HTML标记的正则表达式

> /<([a-z]+)([^<]+)*(?:>(.*)<\/\1>|\s+\/>)/gi

- `<`：匹配一个小于号。号和标签名称。
- `([a-z]+)`：使用括号捕获一个或多个小写字母，表示标签名称。
- `([^<]+)*`：使用括号和星号表示重复匹配，匹配零个或多个非小于号的字符，表示标签内的属性部分。
- `(?:>(.*)<\/\1>|\s+\/>)`：使用非捕获组 (?:...) 表示两个可选的匹配模式：
  - `>(.*)<\/\1>`：匹配一个大于号 >，后面跟着零个或多个字符（表示标签内容），再后面是一个闭合标签 </ 加上之前匹配到的标签名称 \1，最后是一个大于号 >。这个模式适用于包含内容的标签。
  - `\s+\/>`：匹配一个或多个空白字符，后面跟着斜杠 / 和大于号 >。这个模式适用于不包含内容的自闭合标签。
- `gi`：修饰符，其中 g 表示全局匹配（匹配到所有匹配项），i 表示不区分大小写匹配。

```js
input:
/<([a-z]+)([^<]+)*(?:>(.*)<\/\1>|\s+\/>)/gi.test('<span>sdf</span>')
output: 
true
```

#### 4. 邮箱

> /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i

- `^`：匹配字符串的开头。
- `[A-Za-z0-9._%+-]+`：匹配至少一个字母、数字、句点、下划线、百分号、加号或减号字符。
- `@`：匹配一个 @ 符号。
- `[A-Za-z0-9.-]+`：匹配至少一个字母、数字、句点或连字符字符。
- `\.`：匹配一个句点 .。
- `[A-Za-z]{2,}`：匹配至少两个字母。
- `$`：匹配字符串的结尾。
- `/i`：标志，表示忽略大小写。

```js
input:
/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i.test('234@ss.com')

output: 
true
```

#### 5. 匹配手机号

1、手机号由11位数字组成。

2、手机号第一位为1，第二位为3、5、6、7、8、9之一。

```js
/^1[356789]\d{9}$/
```

###### 手机号脱敏
```js
input:
'18250823456'.replace(/^(\d{3})\d{4}(\d{4})$/, "$1****$2");
output:
182****3456
```
#### 6. 用于匹配最多包含两位小数的数字

- `^`：匹配字符串的开头。
- `\d*`：匹配任意数量的数字（0个或多个）。
- `(\.\d{0,2})?`：使用括号和问号来表示可选项，匹配一个小数部分。其中`\.`：匹配小数点字符。
`\d{0,2}`：匹配0到2位数字。
- `$`：匹配字符串的结尾。

```
/^\d*(\.\d{0,2})?$/
```
 
#### 7. 正则获取cookie

要使用正则表达式来获取 cookie，你可以使用捕获组（capturing group）的概念来提取匹配的部分。

```javascript
// document.cookie
const cookieString = 'name=value; other_cookie=1234; session=abcde';

const regex = /(\w+)=(\w+)/g;
let match;
const cookies = {};

while ((match = regex.exec(cookieString)) !== null) {
  const key = match[1];
  const value = match[2];
  cookies[key] = value;
}

console.log(cookies);
```

在上述示例中，我们定义了一个正则表达式 `/(\w+)=(\w+)/g`，它会匹配形如 `key=value` 的字符串。

通过使用 `exec()` 方法和 `while`循环，我们可以循环提取匹配的结果，并将匹配的键值对存储到一个对象中。最后，我们输出这个对象，其中包含了从 cookie 字符串中提取的键值对。

这个例子假设每个 cookie 的键和值都只包含字母数字字符`（\w）`，如果存在其他特殊字符或需要处理更复杂的 cookie 格式，可能需要调整正则表达式以适应相应的情况。

#### 8. 数字

```
^[0-9]*$
```

#### 9. n位的数字

```
^\d{n}$
```

#### 9. 至少n位的数字

```
^\d{n,}$
```

#### 10. m-n位的数字：
```
^\d{m,n}$
```
#### 11. 零和非零开头的数字

```
^(0|[1-9][0-9]*)$
```

#### 12. 非零开头的最多带两位小数的数字

```
^([1-9][0-9]*)+(.[0-9]{1,2})?$
```

#### 13. 带1-2位小数的正数或负数
```
^(\-)?\d+(\.\d{1,2})?$
```
#### 14. 正数、负数、和小数
```
^(\-|\+)?\d+(\.\d+)?$
```

#### 15.有两位小数的正实数
```
^[0-9]+(.[0-9]{2})?$
```

#### 16. 有1~3位小数的正实数
```
^[0-9]+(.[0-9]{1,3})?$
```

#### 17.  非零的正整数：
```
// 这个正则表达式用于匹配正整数（不包括零）
^[1-9]\d*$ 

// 这个正则表达式用于匹配 1 到 3 位长度的正整数
^([1-9][0-9]*){1,3}$

// 这个正则表达式用于匹配包括正整数和带正号的正整数
^\+?[1-9][0-9]*$
```

#### 18. 长度为3-20的所有字符

```
^.{3,20}$
```

#### 19. 由26个英文字母组成的字符串
```
^[A-Za-z]+$
```

#### 20. 由26个大写英文字母组成的字符串
```
^[A-Z]+$
```

#### 21. 由26个小写英文字母组成的字符串
```
^[a-z]+$
```

#### 22. 由数字、26个英文字母或者下划线组成的字符串

```
^\w+$ 或 ^\w{3,20}$
```

#### 23. 中文、英文、数字包括下划线
```
^[\u4E00-\u9FA5A-Za-z0-9_]+$
```
#### 24. 可以输入含有^%&',;=?$\"等字符
```
[^%&',;=?$\x22]+
```

#### 25. 禁止输入含有~的字符
```
[^~\x22]+
```

#### 26. 日期格式

> "YYYY-MM-DD"

```
^\d{4}-\d{1,2}-\d{1,2}
```

#### 27. xml文件
```
^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$
```

#### 28.  IP地址
```
\d+\.\d+\.\d+\.\d+
```

#### 29. 清除字符串前后的空格

```js
str.replace(/(^\s*)|(\s*)$/g,"");
```
